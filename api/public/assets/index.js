import{d as L,r as f,o as E,c as v,a as I,b,e as y,w as m,f as _,u as d,N as O,g as R,h as T,i as j,j as x,k as w}from"./vendor.js";const D=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}};D();const V="modulepreload",g={},S="/",a=function(o,e){return!e||e.length===0?o():Promise.all(e.map(r=>{if(r=`${S}${r}`,r in g)return;g[r]=!0;const n=r.endsWith(".css"),s=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${s}`))return;const i=document.createElement("link");if(i.rel=n?"stylesheet":V,n||(i.as="script",i.crossOrigin=""),i.href=r,document.head.appendChild(i),n)return new Promise((P,A)=>{i.addEventListener("load",P),i.addEventListener("error",A)})})).then(()=>o())},p=L("auth",{state:()=>({first_name:void 0,last_name:void 0,email:void 0,profile_picture:void 0,role:void 0})}),c=()=>p().email?!0:{location:{name:"login"},message:"vous devez \xEAtre authentifi\xE9 pour acc\xE9der \xE0 cette page"},k=()=>p().email?{location:{name:"auth.dashboard"},message:"vous ne pouvez pas acc\xE9der \xE0 cette page tant que vous \xEAtes authentifi\xE9, veuillez vous d\xE9connecter"}:!0,C=t=>{const o=p();if(!o.email)return{location:{name:"login"},message:"vous devez \xEAtre authentifi\xE9 pour acc\xE9der \xE0 cette page"};if(typeof t=="string")return o.role===t?!0:{location:{name:"auth.dashboard"},message:"vous n'avez pas le droit d'acc\xE8s"};if(Array.isArray(t)){let e=!1;return t.forEach(r=>{typeof r=="string"&&o.role==r&&(e=!0)}),e||{location:{name:"auth.dashboard"},message:"vous n'avez pas le droit d'acc\xE8s"}}else throw new Error("R\xF4le invalide")};function u(t,o,e=[]){for(let r=0;r<o.length;r++){const s=o[r](t);if(s!==!0)return s.message,s.location?t.next(s.location):t.next({name:"home"})}if(e&&e.length>0){const r=C(e);if(r!==!0)return t.next(r.location)}return t.next()}var N=(t,o)=>{for(const[e,r]of o)t[e]=r;return t};const z={};function $(t,o){const e=f("router-view");return E(),v(e)}var h=N(z,[["render",$]]);const B=I({history:b(),routes:[{path:"/login",component:()=>a(()=>import("./LoginPage.js"),["assets/LoginPage.js","assets/vendor.js","assets/AuthApiService.js","assets/AbstractApiService.js","assets/VerifyTokenService.js"]),name:"login",beforeEnter:(t,o,e)=>u({to:t,from:o,next:e},[k])},{path:"",redirect:{name:"login"}},{path:"/home",component:()=>a(()=>import("./HomePage.js"),["assets/HomePage.js","assets/vendor.js"]),name:"home"},{path:"/about",component:()=>a(()=>import("./AboutPage.js"),["assets/AboutPage.js","assets/vendor.js"]),name:"about"},{path:"/auth",component:()=>a(()=>import("./TheAuthLayout.js"),["assets/TheAuthLayout.js","assets/vendor.js","assets/AuthApiService.js","assets/AbstractApiService.js","assets/VerifyTokenService.js"]),name:"auth",beforeEnter:(t,o,e)=>u({to:t,from:o,next:e},[c]),children:[{path:"dashboard",component:()=>a(()=>import("./DashboardPage.js"),["assets/DashboardPage.js","assets/vendor.js"]),name:"auth.dashboard"},{path:"profile",component:()=>a(()=>import("./UserProfile.js"),["assets/UserProfile.js","assets/UserProfile.css","assets/vendor.js","assets/UserApiService.js","assets/AbstractApiService.js","assets/VerifyTokenService.js","assets/StudentApiService.js"]),name:"auth.profile"},{path:"admin",component:h,beforeEnter:(t,o,e)=>u({to:t,from:o,next:e},[c],["admin"]),children:[{path:"users",component:()=>a(()=>import("./UsersPage.js"),["assets/UsersPage.js","assets/UserApiService.js","assets/AbstractApiService.js","assets/vendor.js"]),name:"auth.admin.users"},{path:"users/create",component:()=>a(()=>import("./CreateUserPage.js"),["assets/CreateUserPage.js","assets/vendor.js","assets/UserApiService.js","assets/AbstractApiService.js"]),name:"auth.admin.users.create"},{path:"students",component:()=>a(()=>import("./StudentsPage.js"),["assets/StudentsPage.js","assets/AbstractApiService.js","assets/vendor.js","assets/StudentApiService.js"]),name:"auth.admin.students"},{path:"professors",component:()=>a(()=>import("./ProfessorsPage.js"),["assets/ProfessorsPage.js","assets/ProferssorApiService.js","assets/AbstractApiService.js","assets/vendor.js"]),name:"auth.admin.professors"},{path:"professors/:id",component:()=>a(()=>import("./ProfessorProfilePage.js"),["assets/ProfessorProfilePage.js","assets/vendor.js","assets/ProferssorApiService.js","assets/AbstractApiService.js"]),name:"auth.admin.professors.show"},{path:"companies",component:()=>a(()=>import("./ShowCompaniesPage.js"),["assets/ShowCompaniesPage.js","assets/CreateCompanyModal.js","assets/AbstractApiService.js","assets/vendor.js"]),name:"auth.admin.companies"},{path:"technologies",component:()=>a(()=>import("./ShowTechnologiesPage.js"),["assets/ShowTechnologiesPage.js","assets/CreateTechnologyModal.js","assets/AbstractApiService.js","assets/vendor.js"]),name:"auth.admin.technologies"}]},{path:"students",component:h,beforeEnter:(t,o,e)=>u({to:t,from:o,next:e},[c],["student"]),children:[{path:"internship",component:()=>a(()=>import("./InternshipPage.js"),["assets/InternshipPage.js","assets/InternshipPage.css","assets/StudentApiService.js","assets/AbstractApiService.js","assets/vendor.js","assets/CreateCompanyModal.js","assets/CreateTechnologyModal.js","assets/InternshipApiService.js"]),name:"auth.students.internship"},{path:"internship/create",component:()=>a(()=>import("./CreateInternshipPage.js"),["assets/CreateInternshipPage.js","assets/CreateCompanyModal.js","assets/AbstractApiService.js","assets/vendor.js","assets/StudentApiService.js","assets/CreateTechnologyModal.js","assets/InternshipApiService.js"]),name:"auth.students.internship.create"},{path:"invitations",component:()=>a(()=>import("./ShowInvitationsPage.js"),["assets/ShowInvitationsPage.js","assets/AbstractApiService.js","assets/vendor.js"]),name:"auth.students.invitations"}]},{path:"professor",component:h,beforeEnter:(t,o,e)=>u({to:t,from:o,next:e},[c],["professor"]),children:[{path:"internships",component:()=>a(()=>import("./ShowInternshipsPage.js"),["assets/ShowInternshipsPage.js","assets/StudentSmallCard.js","assets/vendor.js","assets/InternshipApiService.js","assets/AbstractApiService.js"]),name:"auth.professor.internships"}]},{path:"internship/:id",component:()=>a(()=>import("./InternshipPage2.js"),["assets/InternshipPage2.js","assets/DisplayInternshipInfo.js","assets/InternshipApiService.js","assets/AbstractApiService.js","assets/vendor.js","assets/StudentSmallCard.js"]),name:"auth.internship.show",beforeEnter:(t,o,e)=>u({to:t,from:o,next:e},[c],["professor","admin"])},{path:"students/:id",component:()=>a(()=>import("./StudentProfilePage.js"),["assets/StudentProfilePage.js","assets/StudentApiService.js","assets/AbstractApiService.js","assets/vendor.js","assets/DisplayInternshipInfo.js","assets/InternshipApiService.js","assets/StudentSmallCard.js"]),name:"auth.admin.students.show",beforeEnter:(t,o,e)=>u({to:t,from:o,next:e},[c],["professor","admin"])},{path:"about",component:()=>a(()=>import("./AboutPage2.js"),["assets/AboutPage2.js","assets/vendor.js"]),name:"auth.about"}]}]}),U=y({setup(t){return(o,e)=>{const r=f("router-view");return E(),v(d(T),null,{default:m(()=>[_(d(R),null,{default:m(()=>[_(d(O),null,{default:m(()=>[_(r)]),_:1})]),_:1})]),_:1})}}}),q=async()=>{const t=w.create({baseURL:"http://localhost:8000/api/v1/auth/me"});t.defaults.headers.common.Authorization=`Bearer ${localStorage.getItem("jwt_token")}`;try{await t.post("").then(o=>{if(o.data.data){const e=o.data.data,r=p();r.id=e.id,r.email=e.email,r.first_name=e.first_name,r.last_name=e.last_name,r.role=e.role,r.profile_picture=e.profile_picture}})}catch{}},l=j(U);l.use(x());q().then(()=>{}).finally(()=>{l.use(B),l.mount("#app")});export{N as _,B as r,p as u};
