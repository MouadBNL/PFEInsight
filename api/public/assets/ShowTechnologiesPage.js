import{u as m,_ as g}from"./CreateTechnologyModal.js";import{e as _,A as h,l as i,F as y,o as N,n as x,f as e,u as a,R as k,w as u,x as w,Z as C,T as M,V as S,z as T,D as c,v as r,_ as A}from"./vendor.js";import"./AbstractApiService.js";const E=T("Technologies"),b=_({setup(j){const p=h(),t=m(),s=i(void 0),d=i(void 0),o=i(!1),f=[{title:"#",key:"id"},{title:"Nom",key:"name"},{title:"Actions",key:"actions",render(n){return c(A,{},{default:()=>[c(r,{type:"success",onClick(){d.value=n,o.value=!0}},{default:()=>"Modifier"}),c(r,{type:"error",onClick:async()=>{await t.delete(n.id),p.success("La technologie "+n.name+" a \xE9t\xE9 supprim\xE9e"),s.value=(await t.get()).data}},{default:()=>"Supprimer"})]})}}];return y(async()=>{s.value=(await t.get()).data}),(n,l)=>(N(),x(M,null,[e(a(k),null,{default:u(()=>[E]),_:1}),e(a(w),null,{default:u(()=>[e(a(S),{columns:f,data:s.value,pagination:{pageSize:20}},null,8,["data"])]),_:1}),e(a(C),{show:o.value,"onUpdate:show":l[1]||(l[1]=v=>o.value=v)},{default:u(()=>[e(g,{init:d.value,onUpdated:l[0]||(l[0]=async()=>{s.value.value=(await a(t).get()).data,o.value=!1})},null,8,["init"])]),_:1},8,["show"])],64))}});export{b as default};
