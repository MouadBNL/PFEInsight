import{e as w,l as p,m as h,o as x,n as g,f as s,w as l,u as t,p as _,q as b,s as o,t as c,v as y,x as N,y as j,z as S}from"./vendor.js";import{u as q}from"./AuthApiService.js";import"./AbstractApiService.js";import"./VerifyTokenService.js";import"./index.js";const A={class:"h-screen max:w-screen flex items-center justify-center bg-gray-100 p-4"},C=j("h1",{class:"text-center text-3xl font-extrabold mb-8 mt-0"},"PFE Insight",-1),E=S("Connexion"),R=w({setup(k){const n=p(null),r=p({email:"",password:""}),f={email:[{required:!0,validator(d,e){if(e){if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e))return new Error("veuillez entrer un email valide")}else return new Error("un e-mail est requis");return!0},trigger:["input","blur"]}],password:[{required:!0,trigger:["input","blur"],message:"un mot de passe est requis"}]},u=q(),v=h(),i=async d=>{var e;await((e=n.value)==null?void 0:e.validate(async a=>{(!a||a.length==0)&&await u.login(r.value.email,r.value.password).then(m=>{v.push({name:"auth.dashboard"})})}))};return(d,e)=>(x(),g("div",A,[s(t(N),{class:"w-11/12 md:w-5/12 xl:w-3/12"},{default:l(()=>[C,s(t(_),{model:r.value,rules:f,ref:(a,m)=>{m.formRef=a,n.value=a},onSubmit:b(i,["prevent"])},{default:l(()=>[s(t(o),{label:"Email",path:"email"},{default:l(()=>[s(t(c),{value:r.value.email,"onUpdate:value":e[0]||(e[0]=a=>r.value.email=a),placeholder:"adc@xyz.com",autofocus:""},null,8,["value"])]),_:1}),s(t(o),{label:"Mod de passe",path:"password"},{default:l(()=>[s(t(c),{value:r.value.password,"onUpdate:value":e[1]||(e[1]=a=>r.value.password=a),placeholder:"******",type:"password"},null,8,["value"])]),_:1}),s(t(o),null,{default:l(()=>[s(t(y),{onClick:i,type:"primary",loading:t(u).isLoading.value},{default:l(()=>[E]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","onSubmit"])]),_:1})]))}});export{R as default};
