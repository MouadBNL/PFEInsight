import{u as v,_ as y}from"./CreateCompanyModal.js";import{e as _,A as k,l as i,F as N,o as g,n as x,f as e,u as a,R as C,w as r,x as w,Z as E,T as M,V as S,z as h,D as u,v as c,_ as A}from"./vendor.js";import"./AbstractApiService.js";const T=h("Entreprises"),z=_({setup(V){const p=k(),t=v(),s=i([]),d=i(void 0),n=i(!1),m=[{title:"#",key:"id"},{title:"Nom",key:"name"},{title:"Adresse",key:"address"},{title:"Ville",key:"city"},{title:"Telephone",key:"phone"},{title:"Actions",key:"actions",render(l){return u(A,{},{default:()=>[u(c,{type:"success",onClick(){d.value=l,n.value=!0}},{default:()=>"Modifier"}),u(c,{type:"error",onClick:async()=>{await t.delete(l.id),p.success("L'entreprise "+l.name+" a \xE9t\xE9 supprim\xE9e"),s.value=(await t.get()).data}},{default:()=>"Supprimer"})]})}}];return N(async()=>{s.value=(await t.get()).data}),(l,o)=>(g(),x(M,null,[e(a(C),null,{default:r(()=>[T]),_:1}),e(a(w),null,{default:r(()=>[e(a(S),{columns:m,data:s.value,pagination:{pageSize:20}},null,8,["data"])]),_:1}),e(a(E),{show:n.value,"onUpdate:show":o[1]||(o[1]=f=>n.value=f)},{default:r(()=>[e(y,{init:d.value,onUpdated:o[0]||(o[0]=async()=>{s.value.value=(await a(t).get()).data,n.value=!1})},null,8,["init"])]),_:1},8,["show"])],64))}});export{z as default};
