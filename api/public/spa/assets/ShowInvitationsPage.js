import{A as w}from"./AbstractApiService.js";import{e as g,A as k,l as A,F as C,o as c,n as v,f as i,u as r,R as I,w as a,c as f,x as _,S as N,T as S,Y as b,y as l,H as d,v as y,_ as z,z as p}from"./vendor.js";class B extends w{constructor(){super("/invitations")}getAllInvitations(){return this.http.get("/").catch(this.handleError.bind(this))}accept(e){return this.http.put("/"+e).catch(this.handleError.bind(this))}refuse(e){return this.http.delete("/"+e).catch(this.handleError.bind(this))}}function j(){return new B}const V=p("Invitations re\xE7ues"),U=l("p",{class:"text-center"},"Pas encore d'invitations, revenez plus tard",-1),F={class:"flex items-center justify-between"},H=p(" J'accepte "),J=p(" Je refuse "),D=g({setup(x){const e=j(),n=k(),o=A([]);C(async()=>{await u()});const u=async()=>{try{const t=await e.getAllInvitations();o.value=t.data.data}catch{n.error("Un erreur est survenue, veuillez r\xE9essayer plus tard")}},m=async t=>{try{await e.accept(t),n.success("Invitation accept\xE9e")}catch{n.error("Un erreur est survenue, veuillez r\xE9essayer plus tard")}finally{await u()}},E=async t=>{try{await e.refuse(t),n.success("Invitation refus\xE9e")}catch{n.error("Un erreur est survenue, veuillez r\xE9essayer plus tard")}finally{await u()}};return(t,h)=>(c(),v("div",null,[i(r(I),null,{default:a(()=>[V]),_:1}),o.value.length==0?(c(),f(r(_),{key:0},{default:a(()=>[U]),_:1})):N("",!0),(c(!0),v(S,null,b(o.value,s=>(c(),f(r(_),{key:s.id,class:"mb-4"},{default:a(()=>[l("div",F,[l("p",null,d(s.sender.first_name)+" "+d(s.sender.last_name)+" vous a invit\xE9 \xE0 le rejoindre dans son stage : "+d(s.internship.title),1),i(r(z),null,{default:a(()=>[i(r(y),{type:"success",onClick:()=>m(s.id)},{default:a(()=>[H]),_:2},1032,["onClick"]),i(r(y),{type:"error",onClick:()=>E(s.id)},{default:a(()=>[J]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128))]))}});export{D as default};
